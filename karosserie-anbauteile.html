<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>KAROSSERIE-ANBAUTEILE</title>
    <link rel="stylesheet" href="warenkorb.css">
    <style>
        body {
            background: #eafaf1 url('images/hintergrund.png') no-repeat center center fixed;
            background-size: cover;
            margin: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            color: #222;
        }
        header {
            padding: 28px 0 18px 0;
            text-align: center;
            margin-bottom: 36px;
            box-shadow: 0 2px 8px rgba(27,60,46,0.08);
        }
        nav {
            margin-top: 14px;
        }
        nav a {
            color: #7be495;
            text-decoration: none;
            margin: 0 18px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: color 0.2s;
        }
        nav a:hover {
            color: #43b97f;
            text-decoration: underline;
        }
        main {
            max-width: 1100px;
            margin: 0 auto;
            background: #fff;
            padding: 36px;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(67,185,127,0.07);
        }
        /* Warenkorb-Button (Floating Cart Icon) */
        .warenkorb-fab {
            position: fixed;
            bottom: 32px;
            right: 32px;
            background: linear-gradient(90deg, #43b97f 0%, #7be495 100%);
            color: #fff;
            border: none;
            border-radius: 50%;
            width: 56px;
            height: 56px;
            box-shadow: 0 4px 16px rgba(67,185,127,0.18);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 200;
            transition: background 0.2s, box-shadow 0.2s;
        }
        .warenkorb-fab:hover {
            background: linear-gradient(90deg, #1e7d4d 0%, #43b97f 100%);
            box-shadow: 0 8px 32px rgba(67,185,127,0.22);
        }
        .warenkorb-fab svg {
            width: 28px;
            height: 28px;
        }
        .warenkorb-fab-count {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #e81123;
            color: #fff;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.95em;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border: 2px solid #fff;
        }
        .warenkorb {
            display: none;
        }
        .warenkorb.anzeigen {
            display: block;
            position: fixed;
            top: 32px;
            right: 32px;
            background: #fff;
            border: 2.5px solid #43b97f;
            border-radius: 18px;
            padding: 26px 28px 22px 28px;
            min-width: 270px;
            z-index: 300;
            box-shadow: 0 8px 32px rgba(67,185,127,0.13);
        }
        @media (max-width: 900px) {
            .warenkorb-fab {
                bottom: 16px;
                right: 16px;
            }
            .warenkorb.anzeigen {
                top: 16px;
                right: 16px;
            }
        }
        /* ...existing styles for artikel etc... */
        .artikel-liste { /* ...existing code... */ }
        .artikel { /* ...existing code... */ }
        .beschreibung { /* ...existing code... */ }
        .preis { /* ...existing code... */ }
        .warenkorb-btn { /* ...existing code... */ }
        .warenkorb-icon { /* ...existing code... */ }
    </style>
</head>
<body>
    <header>
        <h1>Driftshop</h1>
        <nav>
            <a href="index.html">Startseite</a>
            <a href="shop.html">Shop</a>            
            <a href="weare.html">We Are</a>
            <a href="kontakt.html">Kontakt</a>
        </nav>
    </header>
    <button class="warenkorb-fab" id="warenkorb-fab" style="display:none;" onclick="toggleWarenkorb()">
        <svg fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
        <span class="warenkorb-fab-count" id="warenkorb-fab-count" style="display:none;">0</span>
    </button>
    <div class="warenkorb" id="warenkorb">
        <h2>Warenkorb</h2>
        <ul class="warenkorb-list" id="warenkorb-list"></ul>
        <div><strong>Gesamt: <span id="warenkorb-gesamt">0,00 €</span></strong></div>
        <button class="warenkorb-leeren" onclick="warenkorbLeeren()">Leeren</button>
    </div>
    <main>
        <h2>KAROSSERIE-ANBAUTEILE</h2>
        <div class="artikel-liste">
            <div class="artikel" data-name="Livery 1" data-preis="29.99">
                <img src="images/livery1.jpg" alt="Livery 1">
                <div class="beschreibung">Sportliches Streifen-Design für Coupés.</div>
                <span class="preis">29,99 €</span>
                <button class="warenkorb-btn" onclick="zumWarenkorb(this)">
                    <svg class="warenkorb-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <circle cx="9" cy="21" r="1"/>
                        <circle cx="20" cy="21" r="1"/>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                    </svg>
                    In den Warenkorb
                </button>
            </div>
            <div class="artikel" data-name="Livery 2" data-preis="34.99">
                <img src="images/livery2.jpg" alt="Livery 2">
                <div class="beschreibung">Klassisches Flammenmuster für Muscle Cars.</div>
                <span class="preis">34,99 €</span>
                <button class="warenkorb-btn" onclick="zumWarenkorb(this)">
                    <svg class="warenkorb-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <circle cx="9" cy="21" r="1"/>
                        <circle cx="20" cy="21" r="1"/>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                    </svg>
                    In den Warenkorb
                </button>
            </div>
            <div class="artikel" data-name="Livery 3" data-preis="27.49">
                <img src="images/livery3.jpg" alt="Livery 3">
                <div class="beschreibung">Modernes Camouflage für Offroad-Fahrzeuge.</div>
                <span class="preis">27,49 €</span>
                <button class="warenkorb-btn" onclick="zumWarenkorb(this)">
                    <svg class="warenkorb-icon" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <circle cx="9" cy="21" r="1"/>
                        <circle cx="20" cy="21" r="1"/>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
                    </svg>
                    In den Warenkorb
                </button>
            </div>
        </div>
    </main>
    <script src="warenkorb.js"></script>
    <script>
        // Warenkorb anzeigen/ausblenden
        function toggleWarenkorb() {
            var wk = document.getElementById('warenkorb');
            if (wk.classList.contains('anzeigen')) {
                wk.classList.remove('anzeigen');
            } else {
                wk.classList.add('anzeigen');
            }
        }

        // Warenkorb-Button und Anzeige steuern
        function updateWarenkorbFab() {
            let warenkorb = [];
            try {
                warenkorb = JSON.parse(localStorage.getItem('warenkorb')) || [];
            } catch {}
            const count = warenkorb.reduce((sum, item) => sum + (item.menge || 0), 0);
            const fab = document.getElementById('warenkorb-fab');
            const fabCount = document.getElementById('warenkorb-fab-count');
            const wk = document.getElementById('warenkorb');
            if (count > 0) {
                fab.style.display = 'flex';
                fabCount.style.display = 'flex';
                fabCount.textContent = count;
            } else {
                fab.style.display = 'none';
                fabCount.style.display = 'none';
                wk.classList.remove('anzeigen');
            }
        }

        // Nach jedem Warenkorb-Update aufrufen
        function warenkorbAnzeigen() {
            // ...original warenkorbAnzeigen aus warenkorb.js...
            if (typeof window.updateWarenkorbFab === 'function') window.updateWarenkorbFab();
        }

        // Initial und bei Änderungen
        document.addEventListener('DOMContentLoaded', updateWarenkorbFab);
        window.addEventListener('storage', updateWarenkorbFab);
    </script>
</body>
</html>
